!function(e){function n(n){for(var r,a,s=n[0],l=n[1],c=n[2],d=0,h=[];d<s.length;d++)a=s[d],i[a]&&h.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(n);h.length;)h.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(r=!1)}r&&(o.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},i={0:0},o=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var u=l;o.push([67,1]),t()}({38:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var r=t(0);t(38);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=function e(n){var t=this,o=n.x,a=n.y,s=n.world;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"initKeyboardHandler",function(){document.addEventListener("keydown",t.keyDownHandler,!1),document.addEventListener("keyup",t.keyUpHandler,!1)}),i(this,"destroy",function(){document.removeEventListener("keydown",t.keyDownHandler),document.removeEventListener("keyup",t.keyUpHandler)}),i(this,"keyDownHandler",function(e){switch(e.keyCode){case 68:t.keysPressed.right=!0;break;case 65:t.keysPressed.left=!0;break;case 87:t.keysPressed.up=!0}}),i(this,"keyUpHandler",function(e){switch(e.keyCode){case 68:t.keysPressed.right=!1;break;case 65:t.keysPressed.left=!1;break;case 87:t.keysPressed.up=!1}}),i(this,"initPlayer",function(e){var n=e.x,i=e.y,o=e.width,a=e.world;t.body=r.Bodies.rectangle(n,i,o,o,{label:"player",slop:.05,friction:1,frictionStatic:1/0,render:{strokeStyle:"#4ECDC4",fillStyle:"transparent",lineWidth:1}}),r.World.addBody(a,t.body)}),i(this,"render",function(e){if(t.body){var n=0;t.keysPressed.left?n=-1:t.keysPressed.right&&(n=1),t.keysPressed.up&&t.lastCycle+250<e?(r.Body.setVelocity(t.body,{x:4*n,y:-10}),t.keysPressed.up=!1,t.lastCycle=e):(t.keysPressed.left||t.keysPressed.right)&&r.Body.setVelocity(t.body,{x:4*n,y:t.body.velocity.y})}}),this.width=50,this.keysPressed={up:!1,right:!1,left:!1},this.lastCycle=0,this.initKeyboardHandler(),this.initPlayer({x:o,y:a,width:this.width,world:s})},a=function(e,n,t,i){return r.Bodies.rectangle(e,n,t,i,{label:"wall",isStatic:!0,render:{lineWidth:1,fillStyle:"transparent",strokeStyle:"white"}})};var s=function e(n){var t,i,o,a=this,s=n.engine;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){e.pairs.forEach(function(e){var n=e.bodyA,t=e.bodyB;"player"===n.label&&"circle"===t.label&&(a.counter+=1,document.getElementById("hits").textContent=a.counter)})},(i="detectHit")in(t=this)?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,r.Events.on(s,"collisionStart",this.detectHit),this.counter=0},l=(t(39),function(e,n,t){return r.Bodies.circle(e,n,t,{label:"circle",slop:.5,friction:1,frictionStatic:1/0,restitution:1,render:{strokeStyle:"#C44D58",fillStyle:"transparent",lineWidth:1}})}),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.floor(Math.random()*(n-e)/t)*t+e};var u=function e(n){var t,i,o,a=this,s=n.x,u=n.y,d=n.width,h=n.height,y=n.world;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){for(var n=e.amount,t=a.x,i=a.y,o=a.width,s=a.height,u=a.spawner,d=[],h=0;h<n;h+=1)d.push(new l(c(t,t+o,50),c(i,i+s,50),20));u.push.apply(u,d),r.World.add(a.world,d)},(i="spawn")in(t=this)?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,this.x=s,this.y=u,this.width=d,this.height=h,this.world=y,this.spawner=[],this.spawn({amount:10})};function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h=function e(n){var t=this,i=n.width,o=n.world,a=n.engine,s=n.camera;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"collectBalls",function(e){var n=e.pairs;t.bouncyBalls=n.filter(function(e){var n=e.bodyA,t=e.bodyB;return"circle"===n.label&&"wall"===t.label||"wall"===n.label&&"circle"===t.label})}),d(this,"collectHits",function(e){var n=e.pairs;t.bouncyHits=n.filter(function(e){var n=e.bodyA,t=e.bodyB;return"circle"===n.label&&"player"===t.label||"player"===n.label&&"circle"===t.label})}),d(this,"bounceBalls",function(){t.bouncyBalls.length&&t.bouncyBalls.forEach(function(e){var n=e.bodyA,t=e.bodyB,i="circle"===n.label?n:t,o=i.velocity,a={x:8*Math.sign(o.x),y:8*Math.sign(o.y)};r.Body.setVelocity(i,a)})}),d(this,"bounceHits",function(){t.bouncyHits.length&&t.bouncyHits.forEach(function(e){var n=e.bodyA,i=e.bodyB,o=null,a=null;"circle"===n.labe?(o=n,a=i):(o=i,a=n);var s=o.velocity,l=a.velocity,c={x:8*Math.sign(s.x),y:8*Math.sign(s.y)},u=r.Vector.add(s,l),d=r.Vector.neg({x:.25*u.x,y:.25*u.y});r.Body.setVelocity(o,c),r.Body.setVelocity(a,d),t.camera.screenShake({vector:c})})}),this.camera=s,this.bouncyBalls=[],this.bouncyHits=[],r.Events.on(a,"collisionStart",this.collectBalls),r.Events.on(a,"collisionStart",this.collectHits),r.Events.on(a,"beforeUpdate",this.bounceBalls),r.Events.on(a,"beforeUpdate",this.bounceHits),this.spawner=new u({x:100,y:100,width:i-200,height:100,world:o})};t(44),t(57),t(35),t(63),t(65);function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){f(e,n,t[n])})}return e}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b=function e(n){var t=this,i=n.render,o=n.engine;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"moveCamera",function(){var e=t.render.bounds,n=e.min,i=e.max,o={x:.1*(t.origMin.x-n.x),y:.1*(t.origMin.y-n.y)},a={x:.1*(t.origMax.x-i.x),y:.1*(t.origMax.y-i.y)};t.render.bounds.min=r.Vector.add(t.origMin,o),t.render.bounds.max=r.Vector.add(t.origMax,a),t.strength<10&&(t.strength+=1)}),f(this,"screenShake",function(e){var n=e.vector;t.strength>0&&(console.log(t.render.bounds),t.render.bounds.min.x+=n.x,t.render.bounds.min.y+=n.y,t.render.bounds.max.x+=n.x,t.render.bounds.max.y+=n.y,t.strength-=1)}),this.render=i,this.strength=10,this.origMin=y({},this.render.bounds.min),this.origMax=y({},this.render.bounds.max),r.Events.on(o,"beforeUpdate",this.moveCamera)};var w=r.Engine.create(),p=w.world,v=window.innerWidth,g=window.innerHeight-64,m=r.Render.create({element:document.body,engine:w,options:{width:v,height:g,wireframes:!1,background:"#111"}});r.Engine.run(w),r.Render.run(m);var x=r.Mouse.create(m.canvas),k=r.MouseConstraint.create(w,{mouse:x,constraint:{stiffness:1,render:{visible:!1}}});r.World.add(p,k),m.mouse=x,r.Render.lookAt(m,{min:{x:0,y:0},max:{x:v,y:g}});new function e(n){var t,i,l,c=this,u=n.world,d=n.engine,y=n.render,f=n.width,w=n.height;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),l=function(e,n,t){window.requestAnimationFrame(function(t){return c.run(e,n,t)}),r.Engine.update(n,1e3/144),e.forEach(function(e){return e.render(t)})},(i="run")in(t=this)?Object.defineProperty(t,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[i]=l;var p=new o({x:100,y:100,world:u}),v=w/2,g=f/2;r.World.add(u,[a(g,-50,f+100,50),a(g,w-25,f+100,50),a(f+50,v,50,w+100),a(-50,v,50,w+100),a(g/2,w-150,100,200),a(g+g/2,w-150,100,200)]),this.camera=new b({render:y,engine:d}),this.bouncyHell=new h({width:f,world:u,engine:d,camera:this.camera}),this.hitCounter=new s({engine:d}),this.run([p],d)}({world:p,engine:w,render:m,width:v,height:g})}});
//# sourceMappingURL=app.71b6585c.js.map